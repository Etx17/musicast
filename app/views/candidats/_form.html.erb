
<%= simple_form_for(@candidat) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs bg-white p-3 rounded-4 shadow-sm">
    <div class="d-flex flex-column flex-sm-row gap-3 ">
      <%= f.input :first_name, label: 'Prénom' , input_html: {class:"border border-0  mb-0"} %>
      <%= f.input :last_name, label: 'Nom', input_html: {class:"border border-0  mb-0 "}  %>
      <%= f.input :birthdate, label: 'Date de naissance', input_html: {class:"border border-0  mb-0"} , hint: "Votre identité sera validée le jour du concours, attention a rentrer votre date de naissance exacte!" %>
    </div>
    <div class="d-flex align-items-center gap-2">
      <p class="mb-0">Nationalité: </p>
      <%= f.country_select :nationality, {}, { class: "my-3 p-2 bg-light border rounded" }  %>
    </div>
    <%= f.input :bio, hint: "La phrase d'accroche sous votre photo", input_html: {class:"border border-0 "}  %>
    <%= f.input :short_bio, hint: "Une version très courte de votre parcours, à destination des jurys de concours" , input_html: {class:"border border-0 "} %>
    <%= f.input :medium_bio, hint: "Une version résumée de votre parcours, à destination des jurys de concours", input_html: {class:"border border-0 "}  %>
    <%= f.input :long_bio, hint: "Une version détaillée de votre parcours, à destination des jurys de concours", input_html: {class:"border border-0 "}  %>
  </div>

  <div class="form-inputs bg-white p-3 rounded-4 shadow-sm mt-3">
    <div data-controller="experiences">
      <h3>Expériences</h3>
      <div data-experiences-target="container">
        <%= f.simple_fields_for :experiences do |fexp| %>
          <%= render "experience_fields", f:fexp %>
        <% end %>
      </div>

      <div data-experiences-target="template" style="display: none">
        <%= f.simple_fields_for :experiences, Experience.new, child_index: 'NEW_RECORD' do |fexp| %>
          <%= render "experience_fields", f:fexp %>
        <% end %>
      </div>

      <div class="d-flex gap-3 justify-content-center">
        <%= link_to '#', data: { action: 'experiences#addExperience' }, class: ' rounded-pill btn btn-outline-secondary m-0' do %>
          <i class="fas fa-plus fa-2x m-0 "></i>
        <% end %>
      </div>
    </div>
  </div>

   <div class="form-inputs bg-white p-3 rounded-4 shadow-sm mt-3">
    <div data-controller="experiences">
      <h3>Formation</h3>
      <div data-experiences-target="container">
        <%= f.simple_fields_for :educations do |fexp| %>
          <%= render "education_fields", f:fexp %>
        <% end %>
      </div>

      <div data-experiences-target="template" style="display: none">
        <%= f.simple_fields_for :educations, Education.new, child_index: 'NEW_RECORD' do |fexp| %>
          <%= render "education_fields", f:fexp %>
        <% end %>
      </div>

      <div class="d-flex gap-3 justify-content-center">
        <%= link_to '#', data: { action: 'experiences#addExperience' }, class: ' rounded-pill btn btn-outline-secondary m-0' do %>
          <i class="fas fa-plus fa-2x m-0 "></i>
        <% end %>
      </div>
    </div>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Enregistrer", class:"btn btn-primary" %>
  </div>
<% end %>
