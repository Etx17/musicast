
<%= simple_form_for(@candidat) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <div class="d-flex flex-column flex-sm-row gap-3">
      <%= f.input :first_name, label: 'Prénom' %>
      <%= f.input :last_name, label: 'Nom' %>
      <%= f.input :birthdate, label: 'Date de naissance', hint: "Votre identité sera validée le jour du concours, attention a rentrer votre date de naissance exacte!" %>
    </div>

    <%= f.input :bio, hint: "La phrase d'accroche sous votre photo" %>
    <%= f.input :short_bio, hint: "Une version très courte de votre parcours, à destination des jurys de concours" %>
    <%= f.input :medium_bio, hint: "Une version résumée de votre parcours, à destination des jurys de concours" %>
    <%= f.input :long_bio, hint: "Une version détaillée de votre parcours, à destination des jurys de concours" %>

    <div data-controller="experiences">
      <div data-experiences-target="container">
        <%= f.simple_fields_for :experiences do |fexp| %>
          <%= render "experience_fields", f:fexp %>
        <% end %>
      </div>

      <div data-experiences-target="template" style="display: none">
        <%= f.simple_fields_for :experiences, Experience.new, child_index: 'NEW_RECORD' do |fexp| %>
          <%= render "experience_fields", f:fexp %>
        <% end %>
      </div>

      <div class="d-flex gap-3 justify-content-center">
        <%= link_to '#', data: { action: 'experiences#addExperience' }, class: 'p-3 rounded-pill btn btn-outline-primary mb-5' do %>
          <i class="fas fa-plus"></i> Ajouter une expérience
        <% end %>
      </div>
    </div>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Enregistrer", class:"btn btn-primary" %>
  </div>
<% end %>
