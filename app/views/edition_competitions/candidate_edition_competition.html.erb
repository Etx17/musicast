<div class="bg-light-grey" style="height: 100vh;">

  <div class="text-center py-5 text-white" style="position: relative; background: url('https://source.unsplash.com/random/?opera/400/400') no-repeat center center; background-size: cover;">
    <h1 class="display-4 text-dark" style="position: relative; z-index: 1;"><%= @edition_competition.competition.nom_concours %> - <%= @edition_competition.annee %></h1>
  </div>

  <div class="container mt-3">
    <h4 class="text-center pb-5 bold" style="font-size: 2rem;">Choisissez une catégorie</h4>
    <small class="text-center"><%= @categories.count %> disponibles: </small>
    <div class="row">
      <% @categories.each do |category| %>
        <div class="col-md-6 mb-4">
            <div class="card card-hover position-relative rounded-4 shadow-sm" style="width: 100%; height: 220px;">
              <div class="card-img-overlay rounded-4 d-flex flex-column justify-content-between align-items-center bg-white">
                <h2 class="card-title text-dark" style="font-size: 3em;"><%= category.name %></h2>
                <%= link_to "Voir les détails", "#categoryModal#{category.id}", class: "btn btn-light border rounded rounded-4 border-dark bg-success-secondary", "data-bs-toggle" => "modal" %>
                <div class="d-flex w-100 justify-content-between">
                  <% if category.prize_pool_total_amount.present? && category.prize_pool_total_amount > 0 %>
                    <div class="d-flex flex-column">
                      <small class="text-white">Prize Pool:</small>
                      <span class="rounded-pill border border-secondary gradient-button mx-auto px-3"><%= humanized_money_with_symbol category.prize_pool_total_amount %></span>
                    </div>
                  <% end %>
                  <% if category.biggest_prize_amount.present? && category.biggest_prize_amount > 0 %>
                    <div class="d-flex flex-column">
                      <small class="text-white">Premier Prix:</small>
                      <span class="rounded-pill border border-secondary gradient-button mx-auto px-3"><%= humanized_money_with_symbol category.biggest_prize_amount %></span>
                    </div>
                  <% end %>
                </div>
                <div class="d-flex w-100 justify-content-between">
                  <span class="badge rounded-pill border  bg-light-grey text-dark mx-auto"><%= category.discipline %></span>
                  <span class="badge rounded-pill border  bg-light-grey text-dark mx-auto"><%= category.min_age %> - <%= category.max_age %> ans</span>
                  <span class="badge rounded-pill border  bg-light-grey text-dark mx-auto">Frais de dossier: <%= humanized_money_with_symbol category.price %></span>
                </div>
              </div>
            </div>
        </div>
        <%= render 'category_modal_infos', category: category %>
      <% end %>
    </div>

  </div>

</div>
