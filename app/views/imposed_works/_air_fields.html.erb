<div class="nested-fields bg-white rounded-3 shadow-sm my-4 p-4" data-new-record="<%= f.object.new_record? %>">
  <%# Header avec numéro et bouton de suppression %>
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h5 class="mb-0">
      <span class="badge bg-primary bg-gradient me-2">
        #<%= f.index.is_a?(Integer) ? f.index + 1 : t('imposed_works.air_fields.new') %>
      </span>
    </h5>
    <% if f.object.new_record? %>
      <%= link_to '#', data: { action: 'airs#removeAir' }, class: 'btn btn-outline-danger btn-sm' do %>
        <i class="fas fa-times me-1"></i><%= t('imposed_works.air_fields.delete') %>
      <% end %>
    <% end %>
  </div>

  <%# Première ligne: Titre et Compositeur %>
  <div class="row g-3 mb-3">
    <div class="col-md-6">
      <%= f.input :title,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control form-control border',
                    placeholder: t('imposed_works.air_fields.title_placeholder')
                  } %>
    </div>
    <div class="col-md-6">
      <%= f.input :composer,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control form-control border',
                    placeholder: t('imposed_works.air_fields.composer_placeholder')
                  } %>
    </div>
  </div>

  <%# Ligne: Œuvre, Caractère, Tonalité, Minutes %>
  <div class="row g-3 mb-3">
    <div class="col-md-5">
      <%= f.input :oeuvre,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.oeuvre_placeholder')
                  } %>
    </div>
    <div class="col-md-3">
      <%= f.input :character,
                  label: false,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.character_placeholder')
                  } %>
    </div>
    <div class="col-md-2">
      <%= f.input :tonality,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.tonality_placeholder')
                  } %>
    </div>
    <div class="col-md-2">
      <%= f.input :length_minutes,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.minutes_placeholder')
                  } %>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <%= f.input :infos,
                  label: false,
                  required: true,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.additional_info_placeholder')
                  } %>
    </div>
    <div class="col-md-6">
      <%= f.input :infos_english,
                  label: false,
                  wrapper_html: { class: 'mb-0' },
                  input_html: {
                    class: 'form-control',
                    placeholder: t('imposed_works.air_fields.additional_info_english_placeholder')
                  } %>
    </div>
  </div>

  <%= f.input :_destroy, as: :hidden %>
</div>
