<%= simple_form_for([@organism, @competition, @edition_competition, @category, @tour]) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.label :title, "Titre", class: "form-label" %>
    <%= f.text_field :title, class: "form-control" %>

    <%= f.label :description, "Description", class: "form-label" %>
    <%= f.text_area :description, class: "form-control" %>


    <%= f.label :start_date, "Date de début", class: "form-label" %>
    <div class="d-flex">
      <%= f.datetime_select :start_date %>
    </div>

    <%= f.label :start_time, "Heure de début", class: "form-label" %>
    <div class="d-flex">
      <%= f.datetime_select :start_time %>
    </div>

    <%= f.label :end_date, "Date de fin", class: "form-label" %>
    <div class="d-flex">
      <%= f.datetime_select :end_time %>
    </div>

    <%= f.label "Date limite de soumission du programme du candidat pour ce tour" %>
    <div class="d-flex">
      <%= f.datetime_select :final_performance_submission_deadline %>
    </div>


    <% if Date.today <= @category.edition_competition.end_of_registration %>
      <%= f.label :tour_number, "Numéro du tour (1er, 2e, 3e, etc...)", class: "form-label" %>
      <%= f.number_field :tour_number, class: "form-control" , required: true %>
    <% end %>

    <h2>Configurations</h2>
     <%= f.simple_fields_for :tour_requirement do |tr| %>
      <%= tr.label :description, "Description", class: "form-label" %>
      <%= tr.text_area :description, class: "form-control", placeholder: "Pour ce tour, décrivez les spécifications de programme du candidat; Doit il inclure un des airs imposés au choix ?" %>

      <%= tr.label :min_number_of_works, "Min Number of Works", class: "form-label" %>
      <%= tr.number_field :min_number_of_works, class: "form-control" %>

      <%= tr.label :max_number_of_works, "Max Number of Works", class: "form-label" %>
      <%= tr.number_field :max_number_of_works, class: "form-control" %>

      <%= tr.label :min_duration_minute, "Min Duration Minute", class: "form-label" %>
      <%= tr.number_field :min_duration_minute, class: "form-control" %>

      <%= tr.label :max_duration_minute, "Max Duration Minute", class: "form-label" %>
      <%= tr.number_field :max_duration_minute, class: "form-control" %>

      <p>TODO Souhaitez vous imposer une ou plusieurs oeuvres spécifique pour CE tour ?</p>

    <% end %>


  </div>

  <div class="form-actions">
    <%= f.button :submit, "Enregistrer", class:"btn btn-dark" %>
  </div>
<% end %>
