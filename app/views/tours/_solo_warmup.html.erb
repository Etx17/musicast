<div class="container py-4">
  <div class="row">
    <div class="col-12">
      <h3 class="mb-4">Configuration des répétitions (Salle de chauffe)</h3>

      <%= simple_form_for [@organism, @competition, @edition_competition, @category, @tour],
                          url: update_solo_warmup_organism_competition_edition_competition_category_tour_path(@organism, @competition, @edition_competition, @category, @tour),
                          method: :patch do |f| %>

        <div class="card mb-4">
          <div class="card-body">
            <h4 class="mb-3">Configuration de base</h4>

            <%= f.input :rehearse_time_slot_per_candidate,
                       label: "Durée d'un créneau (en minutes)",
                       input_html: { min: 15, step: 15 },
                       hint: "Définit la durée de chaque créneau de répétition" %>

            <%= f.input :buffer_time_minutes,
                       label: "Temps tampon avant performance (minutes)",
                       hint: "Temps nécessaire entre la fin de la répétition et le début de la performance" %>

            <% if @organism.rooms.exists? %>
              <%= f.association :rooms,
                              collection: @organism.rooms,
                              label: "Sélectionnez les salles disponibles",
                              input_html: { data: { controller: "tom-select" } },
                              hint: "Sélectionnez une ou plusieurs salles pour les répétitions" %>
            <% else %>
              <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>
                Vous n'avez pas encore enregistré de salles.
                <%= link_to "Ajoutez des salles dans votre espace organisation", organisateur_dashboard_path, class: "alert-link" %> pour commencer.
              </div>
            <% end %>
          </div>
        </div>

        <%= f.submit "Enregistrer la configuration", class: "btn btn-primary btn-lg w-100" %>
      <% end %>
    </div>
  </div>
</div>
